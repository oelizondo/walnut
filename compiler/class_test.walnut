program test;

class ClassTest {
  attributes {
    string personal_string;
    int different;
  }

  methods {
    func initializer(int a, int b, string c) {
      different = a + b;
      personal_string = c;
    }
    func doSomething() {
      int cosa = 12434;
    }

    func return_personal_string() : string {
      return personal_string;
    }

    func return_different() : int {
      return different;
    }

    func set_personal_string(string a) {
      personal_string = a;
    }
  }
}

class Test2 extends ClassTest {
  attributes {
    int a;
    float b;
  }

  methods {
    func initializer(int c, float d) {
      a = c;
      b = d;
    }
    func doSomething(int a, float b) : string {
      if(a < 5) {
      }
      else {
      }
      return "string";
    }
    func somethingElse(int this, int that) : int {
      a = a + 5 + 10;
      return a*this+that;
    }

    func get_a() : int {
      return a;
    }

  }
}

globals {
  int as = 1002;
  Test2 obj = Test2.new(3,2.2);
  Test2 obj4 = Test2.new(5,2.3);
  ClassTest obj2 = ClassTest.new(1,2,"this is object 2");
  ClassTest obj3 = ClassTest.new(3,4,"this is object 3");
}

func doThisObj1(int p1, int p3) : int {
  return obj.somethingElse(p1,p3);
}

func doThisObj4(int p1, int p3) : int {
  return obj4.somethingElse(p1,p3);
}

func func2(int param1, int param2, int param3) : string {
  return "this";
}

func func3(int param2) {
  5*5;
}

run
  puts(doThisObj1(1,3),doThisObj4(1,3));
end
